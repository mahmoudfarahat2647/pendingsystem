{
  "meta": {
    "project": "Renault Pending System",
    "date": "2026-01-21",
    "prepared_by": "Software Development Manager"
  },
  "product_overview": "Renault Pending System is a Next.js-based logistics management platform tailored for Renault automotive service centers. It streamlines inventory tracking, order management, customer communication, and scheduling through a premium dark-themed UI with Renault brand accents, delivering real-time updates and efficient workflows across the automotive parts lifecycle.",
  "core_goals": [
    "Centralize tracking of all pending automotive parts in a single platform.",
    "Automate routine status updates and workflows to reduce manual work.",
    "Provide real-time visibility into inventory and order status for all users.",
    "Facilitate seamless customer communication through call list and booking modules.",
    "Maintain comprehensive audit trails and historical retention for compliance.",
    "Enable intuitive, consistent, and quick user interactions across modules.",
    "Support mobile and desktop accessibility with responsive design.",
    "Ensure data integrity and system availability with optimized performance and persistence."
  ],
  "key_features": [
    "Orders Management with bulk import/export, attachment support, and unique tracking IDs.",
    "Main Sheet module providing lifecycle tracking of parts with status updates, auto-move workflow, and locking mechanism.",
    "Booking System featuring a premium calendar interface, multi-VIN grouping, color-coded bookings, and historical retention.",
    "Call List Management for customer contact queue, call status tracking, and notes.",
    "Archive module maintaining 48-hour historical data with immutable records and reorder capability.",
    "Cross-tab Search enabling global searches across VIN, customer name, part number, and company with advanced filtering.",
    "Real-time Dashboard with stats, interactive charts, and calendar widget.",
    "Settings & Configuration interface for managing part statuses, appearance, and history cleanup.",
    "Responsive Notification System with badges and direct navigation to relevant items.",
    "Custom Data Grid components using ag-Grid with optimized rendering and virtualization.",
    "State Management via Zustand with selective localStorage persistence.",
    "Integration with Supabase for backend data persistence and real-time updates.",
    "Backup & Restore functionality with scheduling and manual triggers.",
    "Error Handling with client-side boundaries and graceful fallbacks."
  ],
  "user_flow_summary": [
    "Order Creation: Users can import or manually add orders, attach documents, and generate tracking IDs before committing to inventory.",
    "Inventory Tracking: Parts progress through lifecycle stages (Pending → Arrived → Available → Call List) with auto-move automation when all parts arrive.",
    "Customer Communication: Customers enter a call queue where service reps log interactions and update call statuses, transitioning customers to booking if needed.",
    "Booking Management: Scheduler views bookings on a premium calendar supporting multiple VINs per customer with color-coded status and notes.",
    "Archiving: Completed or outdated entries archive with 48-hour retention, with audit trails and reorder functions available.",
    "Search & Discovery: Users perform cross-tab searches across multiple fields with filter options and quick navigation.",
    "Notification Handling: Alerts notify users of pending actions or updates with clickable badges leading to detail views.",
    "Settings Configuration: Admin users manage part statuses, UI appearance, and system history through organized settings panels."
  ],
  "validation_criteria": [
    "All modules (Orders, Main Sheet, Call List, Booking, Archive) operate without critical errors and meet functional requirements.",
    "Workflow automation executes correctly, including auto-move of parts and booking history logging.",
    "UI response times remain under 100ms perceived latency for all interactions.",
    "Cross-module searches and notifications navigate directly and accurately to source data.",
    "Data persistence via Supabase and localStorage reflects state changes reliably with optimistic UI updates.",
    "System supports bulk operations and multi-selection in data grids with consistent behavior.",
    "User training times are under 2 hours with 90% of tasks achievable in three or fewer clicks.",
    "Dashboard charts and calendar widgets load lazily and reflect real-time data accurately.",
    "Backup and restore features execute schedules and manual triggers successfully without data loss.",
    "Error boundaries catch and handle client errors gracefully without disrupting user experience."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "Next.js",
      "React",
      "Tailwind CSS",
      "Zustand",
      "Supabase",
      "ag-Grid",
      "Recharts",
      "TanStack Query",
      "Framer Motion",
      "Vitest",
      "Playwright"
    ],
    "features": [
      {
        "name": "Orders Management",
        "description": "Import, create, edit, and manage customer orders with attachments, notes, and tracking IDs",
        "files": [
          "src/app/orders/page.tsx",
          "src/components/orders/OrderFormModal.tsx",
          "src/components/orders/OrdersToolbar.tsx",
          "src/services/orderService.ts",
          "src/schemas/order.schema.ts",
          "src/types/index.ts"
        ]
      },
      {
        "name": "Main Sheet (Inventory Tracking)",
        "description": "Track part status through lifecycle from Pending to Arrived to Available to Call List with auto-move workflow",
        "files": [
          "src/app/main-sheet/page.tsx",
          "src/components/grid/DataGrid.tsx",
          "src/components/grid/DynamicDataGrid.tsx",
          "src/components/grid/renderers/*",
          "src/components/main-sheet/MainSheetToolbar.tsx",
          "src/store/slices/inventorySlice.ts",
          "src/hooks/useAutoMoveVins.ts"
        ]
      },
      {
        "name": "Booking System",
        "description": "Premium calendar interface for scheduling appointments with multi-VIN customer grouping",
        "files": [
          "src/app/booking/page.tsx",
          "src/components/booking/BookingCalendarGrid.tsx",
          "src/components/booking/BookingSidebar.tsx",
          "src/components/booking/BookingSidebarCustomerList.tsx",
          "src/components/booking/BookingSidebarDetails.tsx",
          "src/components/booking/BookingSidebarFooter.tsx",
          "src/components/booking/BookingSidebarHeader.tsx",
          "src/components/booking/BookingTasks.tsx",
          "src/store/slices/bookingSlice.ts"
        ]
      },
      {
        "name": "Call List Management",
        "description": "Manage customer contact queue and track call status with communication logging",
        "files": [
          "src/app/call-list/page.tsx",
          "src/store/slices/callListSlice.ts"
        ]
      },
      {
        "name": "Archive System",
        "description": "Maintain 48-hour historical retention with immutable records and audit trails",
        "files": [
          "src/app/archive/page.tsx",
          "src/components/shared/ArchiveReasonModal.tsx",
          "src/store/slices/historySlice.ts"
        ]
      },
      {
        "name": "Search & Discovery",
        "description": "Cross-tab search functionality across VIN, Customer Name, Part Number, and Company",
        "files": [
          "src/components/search/SearchResultsView.tsx",
          "src/components/search/SearchResultsGrid.tsx",
          "src/components/search/SearchResultsHeader.tsx",
          "src/components/search/hooks/useSearchResults.ts",
          "src/components/shared/search/useCrossTabSearch.ts",
          "src/components/shared/search/CrossTabSearchProvider.tsx"
        ]
      },
      {
        "name": "Dashboard",
        "description": "Real-time dashboard with stats, charts, and calendar widget",
        "files": [
          "src/app/page.tsx",
          "src/components/dashboard/CapacityChart.tsx",
          "src/components/dashboard/DistributionChart.tsx"
        ]
      },
      {
        "name": "Settings & Configuration",
        "description": "Manage part statuses, appearance, and history settings with Renault branding",
        "files": [
          "src/components/shared/SettingsModal.tsx",
          "src/components/shared/settings/*",
          "src/store/slices/settingsSlice.ts"
        ]
      },
      {
        "name": "Notifications System",
        "description": "Responsive alert system with numbered badges and direct navigation to source items",
        "files": [
          "src/components/shared/NotificationsDropdown.tsx",
          "src/store/slices/notificationSlice.ts",
          "src/components/shared/InfoLabel.tsx"
        ]
      },
      {
        "name": "Data Grid Components",
        "description": "Custom ag-Grid renderers and components for optimized data display",
        "files": [
          "src/components/grid/renderers/*",
          "src/components/grid/config/*",
          "src/components/grid/hooks/*",
          "src/lib/ag-grid-setup.ts"
        ]
      },
      {
        "name": "State Management",
        "description": "Zustand store with selective persistence and localStorage integration",
        "files": [
          "src/store/useStore.ts",
          "src/store/slices/*",
          "src/store/types.ts"
        ]
      },
      {
        "name": "UI Components",
        "description": "Shared UI components using Radix UI primitives with custom theming",
        "files": [
          "src/components/ui/*",
          "src/components/shared/*",
          "src/components/providers/*"
        ]
      },
      {
        "name": "Supabase Integration",
        "description": "Database integration with Supabase for data persistence and real-time updates",
        "files": [
          "src/lib/supabase.ts",
          "src/types/supabase.ts",
          "src/services/restoreService.ts"
        ]
      },
      {
        "name": "Backup & Restore",
        "description": "System backup and restore functionality with scheduling capabilities",
        "files": [
          "src/app/api/trigger-backup/route.ts",
          "src/components/reports/BackupReportsTab.tsx",
          "src/components/reports/SchedulingCard.tsx",
          "src/components/reports/RecipientsCard.tsx",
          "src/components/reports/ManualActionCard.tsx",
          "src/components/reports/FrequencyPicker.tsx"
        ]
      },
      {
        "name": "Error Handling",
        "description": "Client-side error boundaries and graceful fallback mechanisms",
        "files": [
          "src/components/shared/ClientErrorBoundary.tsx",
          "src/app/global-error.tsx"
        ]
      }
    ]
  }
}
